# One-shot pipeline config for:
# single-image mcq -> optionless + B tasks + mixed train output.

single_input: data/OminiMedExpert/isic_disease_diagnosis_v1_0.05/train_fewshot_0.5.jsonl
output_train: data/OminiMedExpert/isic_disease_diagnosis_v1_0.05/train_btasks+fewshot0.5_optionless.jsonl
output_summary: data/OminiMedExpert/isic_disease_diagnosis_v1_0.05/train_btasks+fewshot0.5_optionless.summary.json

# Optional intermediate outputs
output_single_optionless: data/OminiMedExpert/isic_disease_diagnosis_v1_0.05/train_fewshot_0.5_optionless.jsonl
output_btasks: data/OminiMedExpert/isic_disease_diagnosis_v1_0.05/comparative/train_b_tasks_7_100_stepwise_generated.jsonl

# If btasks_input is set, it takes priority over generate_btasks.
# btasks_input: data/OminiMedExpert/isic_disease_diagnosis_v1_0.05/comparative/train_b_tasks.jsonl

generate_btasks: true
btasks:
  seed: 42
  label_space_by: question_type+optioncount
  task_counts:
    B1: 100
    B2: 100
    B3: 100
    B4: 100
    B5: 100
    B6: 100
    B7: 100
  k: 4
  b4_candidates: 3
  b5_same_prob: 0.5
  b7_nway: 3
  no_shuffle: false

mix:
  # If total is null: concat all single(optionless)+btasks, then shuffle.
  # If total is set: sample by ratio.
  total: null
  ratio:
    single: 1.0
    btask: 1.0
  shuffle: true
  seed: 42
